"use strict";angular.module("angular-lazylist",[]).factory("lazylist",function(){function a(b,c){if(!angular.isFunction(b))throw"generator must be a function ("+b+")";if(this.generator=b,this._promise=null,this._prev=null,this._next=null,c){if(!(c instanceof a))throw"prev must be a instance of LazyList";this._prev=c}}return a.prototype.promise=function(){if(!this._promise){var a=this.generator(this.prev());if(!angular.isFunction(a.then))throw"generator must return a Promise Object ("+a+")";this._promise=a}return this._promise},a.prototype.prev=function(){return this._prev},a.prototype.next=function(){return this._next||(this._next=new a(this.generator,this)),this._next},a.prototype.root=function(){var a=this._prev;return a?a.root():this},function(b,c){return new a(b,c)}});